@model Bespoker.Web.Models.PokerSessionViewModel

@{
    ViewBag.Title = Model.Name;
}

<h2>Poker Session @Model.Name</h2>

@section scripts {
    <script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>
    <script src="~/signalr/hubs"></script>

    <script>
        $(document).ready(function () {
            var sessionName = '@Model.Name';
            var hub = $.connection.bespokerHub;

            hub.client.initSession = function (session) {
                alert('init session called!');
            };

            hub.client.playerJoined = function (player) {
                alert('player joined called!');
            };

            // Initialize connection to SignalR
            $.connection.hub.start().done(function () {
                hub.server.registerForSession(sessionName);
            });
        });
    </script>
}